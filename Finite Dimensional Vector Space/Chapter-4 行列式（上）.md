[[Chapter-1 矩阵是什么]]

本章我们介绍行列式，尽管对于有限维向量空间理论来说不需要行列式也能构建其理论体系，但行列式在应用与其他领域中有较高的价值，因此，我们在本章中做一部分对行列式性质的研究。等到我们引入**特征值**后我们还将继续研究行列式，并给出另一个等价的行列式的定义。

通常定义行列式的方法是使用由排列的逆序描述的公式：

$$
\det A=\sum_{(j_1,\dots,j_n)\in S_n} (-1)^{\tau(j_1,\dots,j_n)}a_{1,j_1}\dots a_{n,j_n}
$$

这很不直观，而且对我们证明性质没有帮助。在本章中，我们将给出一个更为直观的定义，然后我们将证明我们的定义与上述公式是等价的，并且我们会看到排列的逆序是自然出现的。

# Section 1: 行列式的公理化定义与性质

我们先看一个例子。设 $T\in \mathcal L(\mathbb F^2),\mathcal M(T)=A$，直观上看 $T$ 的作用就是对平面进行一个旋转和拉伸，这里我们关注图形的面积：由于 $T$ 是线性的，从而所有图形的面积都增大或减小了一个同样的系数，即

$$
S'=aS
$$

这里我们选取一个单位正方形作为参照，则其变换后所得的平行四边形的面积就是这个系数 $a$，它反映了线性映射 $T$ 的一种固有属性，但还不足以称为**行列式**。这是因为它没有区分图形的*朝向*，为了修复这个问题，我们需要使用**有向面积**，即如果从 $T(i)$ 到 $T(j)$ 是逆时针朝向，那么图形的有向面积就是一个正数，反之则为负数。于是我们可以定义 $T$ 的**行列式** $\det T$ 定义为以 $T(i),T(j)$ 为边的平行四边形的有向面积。

上面这个例子已经为我们指明了行列式的本质：是一种“度量”，一种“有向面积”。从而它也必须遵守面积所具有的性质，具体来说，就是对于一边的线性性，如图所示。

于是现在我们可以给出行列式的定义：

**定义 4.1.1** 行列式（Determinant）

满足下列性质：

- 归一性：$f(I)=1$
- 反对称性：$f(A_1,\dots,A_j,\dots,A_k,\dots,A_n)=-f(A_1,\dots,A_k,\dots,A_j,\dots,A_n)$
- 多重线性：$f(A_1,\dots,aA_j+bB_j,\dots,A_n)=af(A_1,\dots,A_j,\dots,A_n)+bf(A_1,\dots,B_j,\dots,A_n)$

的唯一函数 $f\colon \mathbb F^{n,n}\to \mathbb F$ 称为 $n$ 阶**行列式**，记作 $\det A$ 或 $|A|$。设 $T\in \mathcal L(V),\mathcal M(T)=A$，则定义 $T$ 的**行列式**为 $\det T=\det A$。

注意上面的定义中没有指定构造矩阵所用的基，我们在下一章讲基变换与相似矩阵时会证明，线性映射 $T$ 在不同基下的矩阵其行列式相同，故上面的定义是良定的。

现在我们要证明我们的定义与一般的行列式定义是等价的（即行列式函数是唯一的），为此，我们先做一些准备工作。

**定理 4.1.2**

若矩阵 $A$ 有两列相同，则 $\det A=0$

**证明**

交换相同的两列，由反对称性得 $\det A=-\det A$，从而 $\det A=0$。

从这个定理我们可以推出，将矩阵一列的 $k$ 倍加到另一列上不改变行列式的值。因此有一列为全零的矩阵其行列式也为零，将任意非零列加到全零列上即可证明。

**定理 4.1.3**

若矩阵 $A$ 有一行为全零，则 $\det A=0$

**证明**

设 $A$ 的各列为 $A_1,\dots,A_n$，则 $A_j\in \mathbb F^{n-1,1}$（在同构意义下），而 $A_1,\dots,A_n$ 的长度为 $n$，故 $A$ 的各列线性相关，从而有一列 $A_j$ 包含于前面诸列的张成空间中，即

$$
A_j=c_1A_1+\dots+c_{j-1}A_{j-1}
$$

令 $A$ 的第 $j$ 列减去前面诸列的线性组合，我们得到了一个有一列全零的矩阵，因此 $\det A=0$。

运用同样的思路，我们可以证明：如果矩阵的各列线性相关，那么该矩阵的行列式为零。

**定理 4.1.4**

设 $A$ 是对角矩阵，则 $\det A=a_{11}a_{22}\dots a_{nn}$

利用行列式的多重线性与归一性即证。

现在我们来证明行列式函数是唯一的，我们以3阶行列式为例，其思路可以推广到 $n$ 阶行列式。

设 $A=\begin{bmatrix} a_{11} & a_{12} & a_{13}\\ a_{21} & a_{22} & a_{23}\\ a_{31} & a_{32} & a_{33} \end{bmatrix}$，求 $\det A$ 的思路是，使用多重线性性将其分解为几个小的行列式，比如我们现在将第一列展开：

$$
\det A=\begin{vmatrix}
a_{11} & a_{12} & a_{13}\\
0 & a_{22} & a_{23}\\
0 & a_{32} & a_{33}\end{vmatrix}+
\begin{vmatrix}
0 & a_{12} & a_{13}\\
a_{21} & a_{22} & a_{23}\\
0 & a_{32} & a_{33}\end{vmatrix}+
\begin{vmatrix}
0 & a_{12} & a_{13}\\
0 & a_{22} & a_{23}\\
a_{31} & a_{32} & a_{33}\end{vmatrix}
$$

下面，对这三个行列式做第二列展开，得到 $3^2$ 个行列式，再分别做第三列展开，最终我们共得到 $3^3$ 个行列式，每个行列式的每一列最多只有一个数不为零。接下来就是关键所在：这 $3^3$ 个行列式中有一大部分均为0，因为我们可以得到形如 $\begin{vmatrix} a_{11} & 0 & a_{13}\\ 0 & a_{22} & 0\\ 0 & 0 & 0\end{vmatrix}$，有一行为全零的行列式。于是，非零的行列式只有每一行和每一列都有一个数非零的行列式，从而对应了3个数的共 $3!$ 个排列：

$$
\begin{gather*}
\begin{vmatrix}
a_{11} & 0 & 0\\
0 & a_{22} & 0\\
0 & 0 & a_{33}
\end{vmatrix},\begin{vmatrix}
a_{11} & 0 & 0\\
0 & 0 & a_{23}\\
0 & a_{32} & 0
\end{vmatrix},\begin{vmatrix}
0 & a_{12} & 0\\
a_{21} & 0 & 0\\
0 & 0 & a_{33}
\end{vmatrix},\\
\begin{vmatrix}
0 & 0 & a_{13}\\
a_{21} & 0 & 0\\
0 & a_{32} & 0
\end{vmatrix},\begin{vmatrix}
0 & a_{12} & 0\\
0 & 0 & a_{23}\\
a_{31} & 0 & 0
\end{vmatrix},\begin{vmatrix}
0 & 0 & a_{13}\\
0 & a_{22} & 0\\
a_{31} & 0 & 0
\end{vmatrix}
\end{gather*}
$$

对于每一个行列式，我们都可以通过交换两列得到一个对角矩阵，从而我们有

$$
\det A=a_{11}a_{22}a_{33}+a_{21}a_{32}a_{13}+a_{31}a_{12}a_{23}
-a_{11}a_{32}a_{23}-a_{21}a_{12}a_{33}-a_{31}a_{22}a_{13}
$$

注意右边的每一项都对应了一个排列，也就是把列指标映到行指标的**置换** $\sigma$，且每一项的符号只和 $\sigma$ 本身的属性，即通过**对换**转换为自然排列 $1,2,\dots,n$ 所需的次数，有关。根据如下定理，我们就自然地引入了**逆序**的概念。

**定理 4.1.5**

一个排列的逆序数等于将其通过相邻对换转换为自然排列所需的最小次数。

**证明**

我们使用数学归纳法。若逆序数为0，则排列为自然排列，无需对换。

现假设对于逆序数为 $k-1$ 的排列，通过 $k-1$ 次相邻对换可转换为自然排列。

设 $\sigma$ 的逆序数为 $k$，对于逆序对 $(\sigma(i),\sigma(j))$，若存在 $i<k<j$，考虑 $\sigma(k)$ 的大小：若 $\sigma(k)>\sigma(j)$，则其是一个逆序对，若 $\sigma(k)<\sigma(j)$，则 $(\sigma(i),\sigma(k))$ 是一个逆序。从而对于任意跨度 $j-i$ 的逆序对，总存在一个跨度更小的逆序对，因此必然存在相邻逆序对 $(\sigma(i),\sigma(i+1))$。交换它们的位置，则排列的逆序减少为 $k-1$，由归纳假设，通过 $k-1$ 次相邻对换可得到自然排列，从而将 $\sigma$ 转换为自然排列的相邻对换次数为 $k$。从而完成了证明。

于是我们可以证明：

**定理 4.1.6**

设 $A\in \mathbb F^{n,n}$，则

$$
\det A=\sum_{\sigma\in S_n} (-1)^{\tau(\sigma)} a_{\sigma(1),1}\dots a_{\sigma(n),n}
$$

其中 $\tau(\sigma)$ 是置换 $\sigma$ 的逆序数。

**证明**

我们仿照3阶行列式的例子，利用多重线性对 $\det A$ 进行展开，在展开式中的 $n^n$ 项中，只有 $n!$ 项可能非零，对应了 $n$ 个数的 $n!$ 个不同排列。这中间的每一项都具有形式

$$
a_{\sigma(1),1}\dots a_{\sigma(n),n} \det P_{\sigma}
$$

其中 $P_{\sigma}$ 是在 $(\sigma(j),j)$ 位置上为1，其余位置为0的矩阵。而将 $P_{\sigma}$ 通过交换相邻两列转换为单位矩阵 $I$ 的过程对应了将置换 $\sigma$ 通过相邻对换转换为自然排列的过程，因此有 $\det P_{\sigma}=(-1)^{\tau(\sigma)}$。

根据这个定理，我们可以证明矩阵与其转置有相同的行列式，从而行列式对于列的性质对于行也适用。

**定理 4.1.7**

设 $A\in \mathbb F^{n,n}$，则 $\det A=\det A^T$

**证明**

根据定理4.1.6，我们有

$$
\det A^T=\sum_{\sigma\in S_n} (-1)^{\tau(\sigma)} a_{1,\sigma(1)}\dots a_{n,\sigma(n)}
$$

取 $\sigma$ 为它的逆 $\sigma^{-1}\in S_n$，则各 $a_{k,\sigma^{-1}(k)}$ 经过重新排序后可得 $a_{\sigma(1),1}\dots a_{\sigma(n),n}$（取 $\sigma^{-1}(k)=j$，则 $k=\sigma(j)$），因此我们只需证明 $\tau(\sigma)=\tau(\sigma^{-1})$。

对于 $\sigma$ 的每个逆序对 $(\sigma(i),\sigma(j))$，存在唯一的 $\sigma^{-1}$ 的逆序对 $(j,i)=(\sigma^{-1}(\sigma(j)),\sigma^{-1}(\sigma(i)))$ 与之对应，因此 $\sigma$ 的逆序对构成的集合与 $\sigma^{-1}$ 的逆序对构成的集合一一对应，故 $\tau(\sigma)=\tau(\sigma^{-1})$。

现在我们已经证明我们对于行列式的“公理式”的定义与一般的定义等价，那么，我们的定义比起一般定义有什么优点呢？答案是它使得定理的证明变得简单，比如：

**定理 4.1.8**

设 $A,B\in\mathbb F^{n,n}$，则 $\det(AB)=(\det A)(\det B)$

**证明**

我们以一种公理化的方式进行证明，具体来说，设 $f(B)=\det AB$，我们来证明 $f$ 满足行列式的反对称性与多重线性，从而仿照定理4.1.6的构造方法，我们可以得到 $f(B)=k \det B$ 对某个常数 $k$。下面是验证过程：

设 $B$ 的列为 $B_1,\dots,B_n$，则 $AB$ 的列为 $AB_1,\dots,AB_n$。现在交换 $B$ 的 $i,j$ 列，则 $AB$ 的 $i,j$ 列也被交换了，从而 $f(B')=-\det AB$，反对称性成立。

现设 $B$ 的第 $j$ 列为 $aX+bY$，则 $AB$ 的第 $j$ 列为 $A(aX+bY)=aAX+bAY$，于是多重线性成立。则 $f(B)=k\det B$。令 $B=I$ 即得 $f(I)=k=\det A$。

接下来我们证明行列式可以按某一列做余子式展开。

**定理 4.1.9**

设 $A\in\mathbb F^{n,n}$，则

$$
\det A=a_{1j}C_{1j}+\dots+a_{nj}C_{nj}
$$

其中 $C_{ij}=(-1)^{i+j}\det M_{ij}$，$M_{ij}$ 是 $A$ 去除第 $i$ 行，第 $j$ 列所得的子矩阵，称为**代数余子式**。

**证明**

由于行列式有反对称性，因此只需证明 $j=1$ 的情况。

我们知道

$$
\det A=\sum_{\sigma\in S_n} (-1)^{\tau(\sigma)} a_{\sigma(1),1}\dots a_{\sigma(n),n}
$$

取其中含有 $a_{i1}$ 的项，可得

$$
\sum_{\sigma(1)=i} (-1)^{\tau(\sigma)}a_{i1}\dots a_{\sigma(n),n}
$$

由于 $\sigma=(i,\sigma(2),\dots,\sigma(n))$，故 $\tau(\sigma)=i-1+\tau(\sigma(2),\dots,\sigma(n))$，即得

$$
(-1)^{i+1}a_{i1}\sum_{\pi(j)\ne i}(-1)^{\tau(\pi)}a_{\pi(2),2}\dots a_{\pi(n),n}=a_{i1}C_{i1}
$$

对于 $j\ne 1$ 的情况，注意到将第 $j$ 列换到第1列需要进行 $j-1$ 次相邻对换，因此结果需要乘以 $(-1)^{j-1}$。

定义矩阵 $A_{n\times n}$ 的**伴随** $A^*=(C_{ji})_{n\times n}$，则由上面的展开式得

$$
AA^*=A^*A=\det A
$$

从而 $A$ 可逆当且仅当 $\det A\ne 0$。

# Section 2: 方程组，矩阵，线性映射：等价性定理

在线性代数中，有许多定理所表达的是同一个本质，但使用了不同的语言。在本节中，我们尝试整理了一些互相等价的命题，以作为对前四章的总结。

**定理 4.2.1**

设 $T\colon V\to W,A_{m\times n}=\mathcal M(T)$，则以下命题等价：

1. 若方程组 $Ax=0$ 的未知数个数大于方程个数，则方程组有非平凡解。
2. 若矩阵 $A$ 的列数大于行数，则矩阵的各列线性相关。
3. 若 $\dim V>\dim W$，则 $T$ 不是单射。

**定理 4.2.2**

设 $T\colon V\to W,A_{m\times n}=\mathcal M(T)$，则以下命题等价：

1. 若方程组 $Ax=b$ 的方程个数大于未知数个数，则存在一组常数 $b$ 使得方程无解。
2. 若矩阵 $A$ 的行数大于列数，则矩阵各列的张成空间维数小于 $m$。
3. 若 $\dim V<\dim W$，则 $T$ 不是满射。

**定理 4.2.3**

设 $T\colon V\to W,A_{m\times n}=\mathcal M(T)$，则以下命题等价：

1. 方程组 $Ax=0$ 只有平凡解。
2. 矩阵 $A$ 列满秩。
3. $T$ 是单射。

**定理 4.2.4**

设 $T\colon V\to W,A_{m\times n}=\mathcal M(T)$，则以下命题等价：

1. 方程组 $Ax=b$ 对任意 $b$ 都有解。
2. 矩阵 $A$ 行满秩。
3. $T$ 是满射。

**定理 4.2.5**

设 $T\colon V\to V,A_{n\times n}=\mathcal M(T)$，则以下命题等价：

1. 方程组 $Ax=b$ 对任意 $b$ 都有唯一解。
2. 矩阵 $A$ 满秩。
3. $\det A\ne 0$。
4. $T$ 可逆。

# Section 3: 总结

在本章，我们给出了一个公理化的行列式定义并证明了它与其他定义是等价的。下一章，我们将引入**特征值**与**特征向量**，并给出行列式的另一个定义：行列式是特征值之积。我们还将看到不同基的选取对于线性映射的矩阵的作用以及所谓**相似对角化**的过程。

本期内容就是这样，感谢观看！